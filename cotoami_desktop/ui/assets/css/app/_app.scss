:root {
  --header-height: 36px;
  --footer-height: 25px;
  --max-text-content-width: 45rem;
  --max-article-width: calc(var(--max-text-content-width) + var(--block-spacing-horizontal));
  --selection-color: orange;

  // override pico's custom properties
  --form-element-spacing-vertical: 0.5rem;
}

div.app {
  position: relative;
  width: 100%;
  height: 100%;

  >header {
    height: var(--header-height);
    border-bottom: 1px solid var(--pane-border-color);
  }

  #app-body {
    display: flex;
    flex-direction: row;

    nav.nodes {
      flex: 0 0 45px;
      border-right: 1px solid var(--pane-border-color);
    }

    div.main-split-pane {
      flex: 1;
      min-width: 0; // let this item shrink below the content size

      &.search-layout {

        // Prevent search pane from being hidden by other panes
        >div.separator,
        section.search * {
          z-index: 20;
        }
      }
    }
  }

  // flow and stock
  main {
    display: flex;
    flex-direction: row;

    .split-pane {
      width: 100%;

      .flow.pane.occupying {
        flex: 1 !important;
      }

      .stock.pane {
        >.pane-toggle {
          left: 0;
          right: auto;

          button {
            left: -4px;
            right: auto;
          }
        }

        &.map-opened>.pane-toggle {
          color: var(--color-in-light-background);
        }

        // prevent the icon from overflowing to the right side of screen 
        &.folded>.pane-toggle {
          left: auto;
          right: 0;

          color: var(--color);

          button {
            left: auto;
            right: 0;
            overflow: hidden;
          }
        }
      }
    }

    .split-pane.reverse {
      .flow.pane {
        >.pane-toggle {
          left: 0;
          right: auto;

          button {
            left: -4px;
            right: auto;
          }
        }

        // make space for pane-toggle
        section.flow-input>header {
          padding-left: 12px;
        }

        section.coto-details>header {
          padding-left: 16px;
        }
      }

      .stock.pane {
        >.pane-toggle {
          right: 0;
          left: auto;

          button {
            top: -6px;
            right: -1px;
            left: auto;
          }
        }

        &.map-opened-vert>.pane-toggle {
          color: var(--color);
        }

        // make space for pane-toggle
        .maplibregl-ctrl-top-right {
          top: 8px;
          right: 8px;
        }
      }
    }
  }

  >footer {
    height: var(--footer-height);
    border-top: 1px solid var(--pane-border-color);
  }

  .log-view {
    position: absolute;
    right: 0;
    bottom: 0;
  }
}